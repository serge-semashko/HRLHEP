<html>
    <head>
        <title>HR LHEP Log</title>
        <META http-equiv=Content-Type content="text/html; charset=utf-8">
        <style>
            body{background-color:#eefff4;}
            xmp {margin:0;} 
            .pt {cursor:pointer;} 
            span.req_start {border:solid 1px red; font-weight:bold; background-color:#FFFFA0;}
            span.req_end {border:solid 1px red; font-weight:bold; background-color:#D0FFB0;}
            div.req {display:none; border:solid 1px red; padding:4px; background-color:white;}

            span.ss_start {border:solid 1px red; background-color:#D0E8FF;}
            span.ss_back {border:solid 1px blue; background-color:#D0FFB0;}
            div.ss {display:none; border:solid 1px green; border-right:none; padding:6px; margin-left:5px;}
        </style>
        <script type="text/javascript">
            var toggleDiv = function (id) {
                var d = document.getElementById(id);
                if (d.style.display === "block")
                    d.style.display = "none";
                else
                    d.style.display = "block";
            };
        </script>
    </head><body>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_4_21.html maxLength=500000
</xmp>------ SQL done, 0ms.<br><BR>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_4_21.html maxLength=500000
</xmp>------ SQL done, 0ms.<br><BR>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_4_21.html maxLength=500000
</xmp>------ SQL done, 0ms.<br><BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_50");'> Request_HR_LHEP_50 [04.12 21:23:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_50' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=1d71eb54-c385-11e7-948a-0025907d24fa&GateObjectID=116887&ClientObjectID=175720&Time=04.12.2017 17:31:08&Object={
"ФИО": "Максимов Николай Михайлович",
"ТабельныйНомер": "175720",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"Условия.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=175720;<br> Разряд=<BR>
 ФизЛицоКод=0000012566<BR>
 ДатаНачалаРаботы=20.11.2017 00:00:00<BR>
 ФизЛицо=66174666-c383-11e7-948a-0025907d24fa<BR>
 Пол=Мужской<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=допустимые<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=20.11.2017 00:00:00<BR>
 КартаСОУТ=№ 188 от 20.11.2014<BR>
 Подразделение=fb62b219-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ГрафикРаботы=4 часа (4ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=32000<BR>
 СрокПолномочий=<BR>
 Должность=6b3c7311-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ДатаОкончанияРаботы=19.02.2018 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Установка ИБР-2<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=370528041311<BR>
 УсловияТруда=6faced06-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ДолжностьДата=20.11.2017 00:00:00<BR>
 ФИО=Максимов Николай Михайлович<BR>
 УсловияТрудаКод=000000277<BR>
 ДатаОклада=20.11.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=07.04.1994 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=156-029-132 47<BR>
 ДолжностьКод=000000433<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=175720<BR>
 УсловияРаботыДата=20.11.2017 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=20.11.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=20.11.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=407000<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512411785920");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_50)</span><div id='gateway/receive_7_sotrudnik1512411785920' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '175720' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 10ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=175720
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=175720</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Максимов Николай Михайлович ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Максимов</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Максимов Николай Михайлович ', 'Максимов ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Николай Михайлович </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Николай Михайлович ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Николай</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Николай Михайлович ', 'Николай ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Михайлович </xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000012566, F='Максимов', I='Николай', O='Михайлович'
, div_code=407000, division='Установка ИБР-2', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Максимов Николай Михайлович', changed=now()
where ID=175720
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512411785945");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_50)</span><div id='gateway/jinr_setPersonPosts1512411785945' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000012566
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000012566
order by p.person_id
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=12566
order by id
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
id=175720</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='ЛНФ / Установка ИБР-2, инженер'
where person_id=12566
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512411785945");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (7ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512411785920");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (32ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_50");'>Request_HR_LHEP_50 (gateway/receive) DONE! (152ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_51");'> Request_HR_LHEP_51 [04.12 21:25:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_51' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=5cb57ef2-a006-11e5-944c-0025907d24fa&GateObjectID=123941&ClientObjectID=155768&Time=19.10.2017 21:06:04&Object={
"ФИО": "Легостаева Ксения Сергеевна",
"ТабельныйНомер": "155768",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"Условия.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=155768;<br> Разряд=<BR>
 ФизЛицоКод=0000010396<BR>
 ДатаНачалаРаботы=21.12.2015 00:00:00<BR>
 ФизЛицо=0ef3fcdd-a005-11e5-944c-0025907d24fa<BR>
 Пол=Женский<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=вредные, подкласс 3.1<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=08.09.2017 00:00:00<BR>
 КартаСОУТ=№ 1056 от 02.12.2015<BR>
 Подразделение=a299b37e-e2da-11e1-a86a-e0cb4eda5b7d<BR>
 ГрафикРаботы=Пятидневка по 8 часов (8ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=31800<BR>
 СрокПолномочий=<BR>
 Должность=28cd7a83-560e-11e5-9444-0025907d24fa<BR>
 ДатаОкончанияРаботы=20.12.2017 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Группа №1 встречных поляризованных пучков<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=500711534469<BR>
 УсловияТруда=9702b131-40cb-11e5-9440-0025907d24fa<BR>
 ДолжностьДата=08.09.2017 00:00:00<BR>
 ФИО=Легостаева Ксения Сергеевна<BR>
 УсловияТрудаКод=506586<BR>
 ДатаОклада=01.04.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=24.06.1993 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=151-497-565 84<BR>
 ДолжностьКод=000001013<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=155768<BR>
 УсловияРаботыДата=21.12.2015 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=08.09.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=08.09.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=123001<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512411950774");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_51)</span><div id='gateway/receive_7_sotrudnik1512411950774' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '155768' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 10ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=155768
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=155768</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Легостаева Ксения Сергеевна ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Легостаева</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Легостаева Ксения Сергеевна ', 'Легостаева ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Ксения Сергеевна </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Ксения Сергеевна ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Ксения</xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Ксения Сергеевна ', 'Ксения ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Сергеевна </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000010396, F='Легостаева', I='Ксения', O='Сергеевна'
, div_code=123001, division='Группа №1 встречных поляризованных пучков', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Легостаева Ксения Сергеевна', changed=now()
where ID=155768
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512411950794");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_51)</span><div id='gateway/jinr_setPersonPosts1512411950794' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000010396
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000010396
order by p.person_id
</xmp> <b> Processed in 10ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=10396
order by id
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
id=155768</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем / Группа №1 встречных поляризованных пучков, инженер'
where person_id=10396
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512411950794");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512411950774");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (30ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_51");'>Request_HR_LHEP_51 (gateway/receive) DONE! (142ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_52");'> Request_HR_LHEP_52 [04.12 21:54:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_52' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=1d71eb54-c385-11e7-948a-0025907d24fa&GateObjectID=116887&ClientObjectID=175720&Time=04.12.2017 17:31:08&Object={
"ФИО": "Максимов Николай Михайлович",
"ТабельныйНомер": "175720",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"Условия.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=175720;<br> Разряд=<BR>
 ФизЛицоКод=0000012566<BR>
 ДатаНачалаРаботы=20.11.2017 00:00:00<BR>
 ФизЛицо=66174666-c383-11e7-948a-0025907d24fa<BR>
 Пол=Мужской<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=допустимые<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=20.11.2017 00:00:00<BR>
 КартаСОУТ=№ 188 от 20.11.2014<BR>
 Подразделение=fb62b219-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ГрафикРаботы=4 часа (4ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=32000<BR>
 СрокПолномочий=<BR>
 Должность=6b3c7311-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ДатаОкончанияРаботы=19.02.2018 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Установка ИБР-2<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=370528041311<BR>
 УсловияТруда=6faced06-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ДолжностьДата=20.11.2017 00:00:00<BR>
 ФИО=Максимов Николай Михайлович<BR>
 УсловияТрудаКод=000000277<BR>
 ДатаОклада=20.11.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=07.04.1994 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=156-029-132 47<BR>
 ДолжностьКод=000000433<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=175720<BR>
 УсловияРаботыДата=20.11.2017 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=20.11.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=20.11.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=407000<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413695614");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_52)</span><div id='gateway/receive_7_sotrudnik1512413695614' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '175720' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=175720
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=175720</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Максимов Николай Михайлович ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Максимов</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Максимов Николай Михайлович ', 'Максимов ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Николай Михайлович </xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Николай Михайлович ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Николай</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Николай Михайлович ', 'Николай ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Михайлович </xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000012566, F='Максимов', I='Николай', O='Михайлович'
, div_code=407000, division='Установка ИБР-2', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Максимов Николай Михайлович', changed=now()
where ID=175720
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413695632");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_52)</span><div id='gateway/jinr_setPersonPosts1512413695632' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000012566
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000012566
order by p.person_id
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=12566
order by id
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
id=175720</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='ЛНФ / Установка ИБР-2, инженер'
where person_id=12566
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413695632");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413695614");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (28ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_52");'>Request_HR_LHEP_52 (gateway/receive) DONE! (146ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_53");'> Request_HR_LHEP_53 [04.12 21:54:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_53' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=1d71eb54-c385-11e7-948a-0025907d24fa&GateObjectID=116887&ClientObjectID=175720&Time=04.12.2017 17:31:08&Object={
"ФИО": "Максимов Николай Михайлович",
"ТабельныйНомер": "175720",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"Условия.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=175720;<br> Разряд=<BR>
 ФизЛицоКод=0000012566<BR>
 ДатаНачалаРаботы=20.11.2017 00:00:00<BR>
 ФизЛицо=66174666-c383-11e7-948a-0025907d24fa<BR>
 Пол=Мужской<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=допустимые<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=20.11.2017 00:00:00<BR>
 КартаСОУТ=№ 188 от 20.11.2014<BR>
 Подразделение=fb62b219-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ГрафикРаботы=4 часа (4ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=32000<BR>
 СрокПолномочий=<BR>
 Должность=6b3c7311-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ДатаОкончанияРаботы=19.02.2018 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Установка ИБР-2<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=370528041311<BR>
 УсловияТруда=6faced06-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ДолжностьДата=20.11.2017 00:00:00<BR>
 ФИО=Максимов Николай Михайлович<BR>
 УсловияТрудаКод=000000277<BR>
 ДатаОклада=20.11.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=07.04.1994 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=156-029-132 47<BR>
 ДолжностьКод=000000433<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=175720<BR>
 УсловияРаботыДата=20.11.2017 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=20.11.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=20.11.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=407000<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413698329");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_53)</span><div id='gateway/receive_7_sotrudnik1512413698329' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '175720' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=175720
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=175720</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Максимов Николай Михайлович ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Максимов</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Максимов Николай Михайлович ', 'Максимов ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Николай Михайлович </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Николай Михайлович ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Николай</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Николай Михайлович ', 'Николай ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Михайлович </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000012566, F='Максимов', I='Николай', O='Михайлович'
, div_code=407000, division='Установка ИБР-2', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Максимов Николай Михайлович', changed=now()
where ID=175720
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413698341");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_53)</span><div id='gateway/jinr_setPersonPosts1512413698341' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000012566
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000012566
order by p.person_id
</xmp> <b> Processed in 10ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=12566
order by id
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
id=175720</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='ЛНФ / Установка ИБР-2, инженер'
where person_id=12566
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413698341");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413698329");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_53");'>Request_HR_LHEP_53 (gateway/receive) DONE! (112ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_54");'> Request_HR_LHEP_54 [04.12 21:55:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_54' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=1d71eb54-c385-11e7-948a-0025907d24fa&GateObjectID=116887&ClientObjectID=175720&Time=04.12.2017 17:31:08&Object={
"ФИО": "Максимов Николай Михайлович",
"ТабельныйНомер": "175720",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"Условия.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=175720;<br> Разряд=<BR>
 ФизЛицоКод=0000012566<BR>
 ДатаНачалаРаботы=20.11.2017 00:00:00<BR>
 ФизЛицо=66174666-c383-11e7-948a-0025907d24fa<BR>
 Пол=Мужской<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=допустимые<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=20.11.2017 00:00:00<BR>
 КартаСОУТ=№ 188 от 20.11.2014<BR>
 Подразделение=fb62b219-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ГрафикРаботы=4 часа (4ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=32000<BR>
 СрокПолномочий=<BR>
 Должность=6b3c7311-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ДатаОкончанияРаботы=19.02.2018 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Установка ИБР-2<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=370528041311<BR>
 УсловияТруда=6faced06-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ДолжностьДата=20.11.2017 00:00:00<BR>
 ФИО=Максимов Николай Михайлович<BR>
 УсловияТрудаКод=000000277<BR>
 ДатаОклада=20.11.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=07.04.1994 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=156-029-132 47<BR>
 ДолжностьКод=000000433<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=175720<BR>
 УсловияРаботыДата=20.11.2017 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=20.11.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=20.11.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=407000<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413702510");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_54)</span><div id='gateway/receive_7_sotrudnik1512413702510' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '175720' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=175720
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=175720</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Максимов Николай Михайлович ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Максимов</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Максимов Николай Михайлович ', 'Максимов ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Николай Михайлович </xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Николай Михайлович ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Николай</xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Николай Михайлович ', 'Николай ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Михайлович </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000012566, F='Максимов', I='Николай', O='Михайлович'
, div_code=407000, division='Установка ИБР-2', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Максимов Николай Михайлович', changed=now()
where ID=175720
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413702533");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_54)</span><div id='gateway/jinr_setPersonPosts1512413702533' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000012566
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000012566
order by p.person_id
</xmp> <b> Processed in 0ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=12566
order by id
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
id=175720</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='ЛНФ / Установка ИБР-2, инженер'
where person_id=12566
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413702533");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413702510");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (33ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_54");'>Request_HR_LHEP_54 (gateway/receive) DONE! (122ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_55");'> Request_HR_LHEP_55 [04.12 21:55:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_55' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=a10ee2e9-c449-11e7-948a-0025907d24fa&GateObjectID=116973&ClientObjectID=175640&Time=04.12.2017 16:56:07&Object={
"ФИО": "Киселева Наталья Сергеевна",
"ТабельныйНомер": "175640",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"УсловияР.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=175640;<br> Разряд=<BR>
 ФизЛицоКод=0000011927<BR>
 ДатаНачалаРаботы=14.11.2017 00:00:00<BR>
 ФизЛицо=5b584b3f-4504-11e7-947c-0025907d24fa<BR>
 Пол=Женский<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=допустимые<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=14.11.2017 00:00:00<BR>
 КартаСОУТ=№ 315.01.009А от 30.09.2015<BR>
 Подразделение=8450e537-bae8-11e6-9470-0025907d24fa<BR>
 ГрафикРаботы=4 часа (4ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=24000<BR>
 СрокПолномочий=<BR>
 Должность=6b3c7311-d7c1-11e1-bad5-e0cb4eda5b1f<BR>
 ДатаОкончанияРаботы=31.12.2018 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Отдел научно-образовательных проектов и программ<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=501002723603<BR>
 УсловияТруда=6faced06-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ДолжностьДата=14.11.2017 00:00:00<BR>
 ФИО=Киселева Наталья Сергеевна<BR>
 УсловияТрудаКод=000000277<BR>
 ДатаОклада=14.11.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=15.08.1980 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=023-563-303 20<BR>
 ДолжностьКод=000000433<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=175640<BR>
 УсловияРаботыДата=14.11.2017 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=14.11.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=14.11.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=032070<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413707488");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_55)</span><div id='gateway/receive_7_sotrudnik1512413707488' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '175640' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=175640
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=175640</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Киселева Наталья Сергеевна ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Киселева</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Киселева Наталья Сергеевна ', 'Киселева ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Наталья Сергеевна </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Наталья Сергеевна ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Наталья</xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Наталья Сергеевна ', 'Наталья ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Сергеевна </xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000011927, F='Киселева', I='Наталья', O='Сергеевна'
, div_code=032070, division='Отдел научно-образовательных проектов и программ', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Киселева Наталья Сергеевна', changed=now()
where ID=175640
</xmp> DONE! 1 record(s) affected------ SQL done, 0ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413707513");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_55)</span><div id='gateway/jinr_setPersonPosts1512413707513' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000011927
</xmp> DONE! 2 record(s) affected------ SQL done, 0ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000011927
order by p.person_id
</xmp> <b> Processed in 0ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=11927
order by id
</xmp><xmp>***** 2 record(s) retrieved. Filled 1 parameters: 
id=172571175640</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='УНЦ / Отдел научно - образовательных проектов и программ, инженер'
where person_id=11927
</xmp> DONE! 2 record(s) affected------ SQL done, 2ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413707513");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (16ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413707488");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (41ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_55");'>Request_HR_LHEP_55 (gateway/receive) DONE! (139ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_56");'> Request_HR_LHEP_56 [04.12 21:55:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_56' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=7&SrcObjectID=5cb57ef2-a006-11e5-944c-0025907d24fa&GateObjectID=123941&ClientObjectID=155768&Time=19.10.2017 21:06:04&Object={
"ФИО": "Легостаева Ксения Сергеевна",
"ТабельныйНомер": "155768",
"ИсточникаКомплектования": "958f5b1c-1c3d-11e2-ab6e-000e0ce597c9",
"ИсточникаКомплектованияКод": "000000261",
"ИсточникКомплектованияНаименование": "по свободному найму",
"УсловияРаботы": "ed6502ec-437f-11e2-993a-000e0ce597c9",
"Условия.....; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=7; ObjectID=; GlobalID=; ClientObjectID=155768;<br> Разряд=<BR>
 ФизЛицоКод=0000010396<BR>
 ДатаНачалаРаботы=21.12.2015 00:00:00<BR>
 ФизЛицо=0ef3fcdd-a005-11e5-944c-0025907d24fa<BR>
 Пол=Женский<BR>
 ТарифнаяСетка=<BR>
 УсловияТрудаНаименование=вредные, подкласс 3.1<BR>
 ГражданствоНаименование=РОССИЯ<BR>
 УсловияТрудаДата=08.09.2017 00:00:00<BR>
 КартаСОУТ=№ 1056 от 02.12.2015<BR>
 Подразделение=a299b37e-e2da-11e1-a86a-e0cb4eda5b7d<BR>
 ГрафикРаботы=Пятидневка по 8 часов (8ч.)<BR>
 УслДатаОк=<BR>
 ИсточникаКомплектования=958f5b1c-1c3d-11e2-ab6e-000e0ce597c9<BR>
 Оклад=31800<BR>
 СрокПолномочий=<BR>
 Должность=28cd7a83-560e-11e5-9444-0025907d24fa<BR>
 ДатаОкончанияРаботы=20.12.2017 00:00:00<BR>
 ТарифнаяСеткаНаименование=<BR>
 ПодразделениеНаименование=Группа №1 встречных поляризованных пучков<BR>
 ГражданствоКод=643<BR>
 ПометкаУдаления=Нет<BR>
 ИНН=500711534469<BR>
 УсловияТруда=9702b131-40cb-11e5-9440-0025907d24fa<BR>
 ДолжностьДата=08.09.2017 00:00:00<BR>
 ФИО=Легостаева Ксения Сергеевна<BR>
 УсловияТрудаКод=506586<BR>
 ДатаОклада=01.04.2017 00:00:00<BR>
 СтранаНаименование=<BR>
 УсловияРаботыНаименование=по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК<BR>
 ШтатНаименование=Основной штат<BR>
 ДатаРождения=24.06.1993 00:00:00<BR>
 СтранаКод=<BR>
 УсловияРаботы=ed6502ec-437f-11e2-993a-000e0ce597c9<BR>
 ИсточникаКомплектованияКод=000000261<BR>
 ШтатКод=000000282<BR>
 УсловияРаботыКод=000000354<BR>
 ПФР=151-497-565 84<BR>
 ДолжностьКод=000001013<BR>
 Штат=6faced0c-1c3e-11e2-ab6e-000e0ce597c9<BR>
 ПричинаУвольнения=<BR>
 Гражданство=982d33e2-bee6-453a-992e-11d13fa66fa7<BR>
 ИсточникКомплектованияНаименование=по свободному найму<BR>
 ТарифнаяСеткаКод=<BR>
 ТабельныйНомер=155768<BR>
 УсловияРаботыДата=21.12.2015 00:00:00<BR>
 Страна=<BR>
 ПодразделениеДата=08.09.2017 00:00:00<BR>
 ДатаУвольнения=<BR>
 ДатаГрафика=08.09.2017 00:00:00<BR>
 ДолжностьНаименование=инженер<BR>
 ТипДеятельности=Специалисты<BR>
 ПодразделениеКод=123001<BR>
* JSON Keys=Разряд, ФизЛицоКод, ДатаНачалаРаботы, ФизЛицо, Пол, ТарифнаяСетка, УсловияТрудаНаименование, ГражданствоНаименование, УсловияТрудаДата, КартаСОУТ, Подразделение, ГрафикРаботы, УслДатаОк, ИсточникаКомплектования, Оклад, СрокПолномочий, Должность, ДатаОкончанияРаботы, ТарифнаяСеткаНаименование, ПодразделениеНаименование, ГражданствоКод, ПометкаУдаления, ИНН, УсловияТруда, ДолжностьДата, ФИО, УсловияТрудаКод, ДатаОклада, СтранаНаименование, УсловияРаботыНаименование, ШтатНаименование, ДатаРождения, СтранаКод, УсловияРаботы, ИсточникаКомплектованияКод, ШтатКод, УсловияРаботыКод, ПФР, ДолжностьКод, Штат, ПричинаУвольнения, Гражданство, ИсточникКомплектованияНаименование, ТарифнаяСеткаКод, ТабельныйНомер, УсловияРаботыДата, Страна, ПодразделениеДата, ДатаУвольнения, ДатаГрафика, ДолжностьНаименование, ТипДеятельности, ПодразделениеКод<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=7<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413725116");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_7_sotrudnik</b> (request:HR_LHEP_56)</span><div id='gateway/receive_7_sotrudnik1512413725116' class='ss'><hr><b>receive_7_sotrudnik</b><br><b>$INCLUDE </b>[set defaults]<BR>
<br> <b>SQL: [[check non-staff] (1) ]:</b><xmp>select case when '155768' like 'д%' then 'Y' else '' end as "NON-STAFF"
</xmp><xmp>***** 1 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[process]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID from info_11
where ID=155768
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
REC_EXISTS=Y
REC_ID=155768</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (1) ]:</b><xmp>select SUBSTRING_INDEX('Легостаева Ксения Сергеевна ', ' ', 1) AS F
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
F=Легостаева</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (2) ]:</b><xmp>select replace('Легостаева Ксения Сергеевна ', 'Легостаева ','') AS IO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
IO=Ксения Сергеевна </xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (3) ]:</b><xmp>select SUBSTRING_INDEX('Ксения Сергеевна ', ' ', 1) AS I
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
I=Ксения</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (4) ]:</b><xmp>select replace('Ксения Сергеевна ', 'Ксения ','') AS O
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
O=Сергеевна </xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[getFIO] (5) ]:</b><xmp></xmp><b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [gateway/receive_7_sotrudnik[update record] (1) ]:</b><xmp>update info_11 set person_id=0000010396, F='Легостаева', I='Ксения', O='Сергеевна'
, div_code=123001, division='Группа №1 встречных поляризованных пучков', post='инженер', usl_rab='по сроч.труд. договору, на опр срок. Ст.58 п.2 ТК'
, FIO='Легостаева Ксения Сергеевна', changed=now()
where ID=155768
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413725132");'> $CALL_SERVICE: <b>gateway/receive_7_sotrudnik.cfg => gateway/jinr_setPersonPosts</b> (request:HR_LHEP_56)</span><div id='gateway/jinr_setPersonPosts1512413725132' class='ss'><br> <b>SQL: [[clear posts] (1) ]:</b><xmp>update info_11 set posts=''
where person_id=0000010396
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select p.id as "TAB_NOM", p.person_id as "KOD_FIZLICA", p.posts as "POSTS"
, d.path as DIV_NAME, d.id as div_code
, p.post as POST
from info_11 p
left join info_10 d on d.id=p.div_code
where p.is_deleted=0
and p.person_id=0000010396
order by p.person_id
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[setPosts] (1) ]:</b><xmp>select distinct posts as "POSTS", id
from info_11
where person_id=10396
order by id
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
id=155768</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setPosts] (2) ]:</b><xmp>update info_11 set
posts='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем / Группа №1 встречных поляризованных пучков, инженер'
where person_id=10396
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
 <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setPersonPosts1512413725132");'> BACK: <b>gateway/jinr_setPersonPosts => gateway/receive_7_sotrudnik.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_7_sotrudnik1512413725116");'> BACK: <b>gateway/receive_7_sotrudnik => gateway/receive.cfg; (26ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_56");'>Request_HR_LHEP_56 (gateway/receive) DONE! (123ms)</span> <BR>
